# Core service controls
NODE_ENV=development
ENABLE_AI=true
POLL_INTERVAL=300
NOTIFY_NON_CRITICAL=false
POLL_JITTER_SECONDS=60
POLL_BUCKET_COUNT=60
POLL_MAX_CONCURRENCY=32
POLL_SITE_CONCURRENCY=6
POLL_RATE_LIMIT_PER_SEC=50
POLL_STAGGER_ENABLED=true

# Feature Flags
FEATURE_VMS_HEALTH_MONITOR=false
FEATURE_VMM_PLAYBACK_FALLBACK_SCAN=false
FEATURE_VMM_MANAGEMENT_REPORTS=false
FEATURE_VMS_POLLING_SHARDING=false
FEATURE_VMS_VIVOTEK_CGI=false
FEATURE_VMS_ONVIF_PROBE=false
FEATURE_VMS_RTSP_PROBE=false
FEATURE_VMS_ACTI_CGI=false
FEATURE_VMS_AVTECH_CGI=false
FEATURE_VMS_LILIN_CGI=false
FEATURE_VMS_GEOVISION_CGI=false
FEATURE_VMS_HISHARP_CGI=false
FEATURE_VMS_UNIVIEW_CGI=false
FEATURE_VMS_HIKVISION_CGI=false
FEATURE_VMS_XM_CGI=false
FEATURE_VMS_SAMPO_CGI=false
FEATURE_VMS_HEALTH_JITTER=false
FEATURE_VMS_BLACKFRAME_CAPTURE=false
FEATURE_VMM_NTP_TIME_SYNC=false
FEATURE_VMM_PLAYBACK_FALLBACK_TUNABLE=false
FEATURE_VMM_PLAYBACK_CACHE=false
FEATURE_VMM_SITE_SHARDING=false
FEATURE_MCP_AUTOGEN_PROMPTS=false
FEATURE_ROLLOUT_GRADIENT=false
FEATURE_VMS_EVENT_DEDUP=false
FEATURE_INTERNAL_AUTHZ=false
FEATURE_WEB_DASHBOARD_UX_V2=false

# NTP sync/server controls (used when FEATURE_VMM_NTP_TIME_SYNC=true)
NTP_SERVER_ENABLED=false
NTP_SERVER_HOST=0.0.0.0
NTP_SERVER_PORT=123
NTP_UPSTREAM_HOST=time.google.com
NTP_UPSTREAM_PORT=123
NTP_SYNC_INTERVAL_MIN=60
NTP_REQUEST_TIMEOUT_MS=1500
NTP_MANUAL_TIME_ISO=

# Health jitter/stability (used when FEATURE_VMS_HEALTH_JITTER=true)
HEALTH_JITTER_WINDOW_SEC=300
HEALTH_STABILITY_WINDOW_MIN=60

# Blackframe capture (used when FEATURE_VMS_BLACKFRAME_CAPTURE=true)
BLACKFRAME_CAPTURE_INTERVAL_SEC=300
BLACKFRAME_UPLOAD_URL=
BLACKFRAME_UPLOAD_TOKEN=

# Playback fallback tuning (used when FEATURE_VMM_PLAYBACK_FALLBACK_TUNABLE=true)
PLAYBACK_FALLBACK_WINDOW_SEC=3600
PLAYBACK_FALLBACK_MAX_PAGES=5
PLAYBACK_SLOW_MS=800
PLAYBACK_SLOW_ALERT_THRESHOLD=10
PLAYBACK_CACHE_TTL_MS=300000
PLAYBACK_CACHE_MAX_ENTRIES=1000
PLAYBACK_CACHE_HOT_WINDOWS=15m,1h

# Site-aware sharding (used when FEATURE_VMM_SITE_SHARDING=true)
SITE_SHARD_WEIGHTS=site-a:1,site-b:2
SITE_SHARD_BUCKETS=60

# Rollout gradient (used when FEATURE_ROLLOUT_GRADIENT=true)
ROLLOUT_PERCENT=5
ROLLOUT_SCOPE=site
ROLLOUT_STICKY_KEY=site_id

# Event dedup and suppression (used when FEATURE_VMS_EVENT_DEDUP=true)
EVENT_DEDUP_WINDOW_SEC=60
EVENT_SUPPRESS_MIN_INTERVAL_SEC=120

# Internal auth/rate-limit (used when FEATURE_INTERNAL_AUTHZ=true)
INTERNAL_SIGNING_KEY=
INTERNAL_RATE_LIMIT_PER_MIN=300

# MCP autogen prompts (used when FEATURE_MCP_AUTOGEN_PROMPTS=true)
MCP_AUTOGEN_ENABLED=false
MCP_AUTOGEN_SOURCES=services,openapi,runbooks

# VIVOTEK probe skeleton (used when FEATURE_VMS_VIVOTEK_CGI=true)
VIVOTEK_NVR_BASE_URL=
VIVOTEK_IPCAM_BASE_URL=
VIVOTEK_USERNAME=
VIVOTEK_PASSWORD=
VIVOTEK_CAMERA_ID=

# ONVIF probe skeleton (used when FEATURE_VMS_ONVIF_PROBE=true)
ONVIF_DEVICE_SERVICE_URL=
ONVIF_MEDIA_SERVICE_URL=
ONVIF_USERNAME=
ONVIF_PASSWORD=

# RTSP probe skeleton (used when FEATURE_VMS_RTSP_PROBE=true)
RTSP_URL=
RTSP_USERNAME=
RTSP_PASSWORD=

# ACTI probe skeleton (used when FEATURE_VMS_ACTI_CGI=true)
ACTI_NVR_BASE_URL=
ACTI_CAMERA_BASE_URL=
ACTI_USERNAME=
ACTI_PASSWORD=

# AVTECH probe skeleton (used when FEATURE_VMS_AVTECH_CGI=true)
AVTECH_NVR_BASE_URL=
AVTECH_CAMERA_BASE_URL=
AVTECH_USERNAME=
AVTECH_PASSWORD=

# LILIN probe skeleton (used when FEATURE_VMS_LILIN_CGI=true)
LILIN_NVR_BASE_URL=
LILIN_CAMERA_BASE_URL=
LILIN_USERNAME=
LILIN_PASSWORD=

# GEOVISION probe skeleton (used when FEATURE_VMS_GEOVISION_CGI=true)
GEOVISION_NVR_BASE_URL=
GEOVISION_CAMERA_BASE_URL=
GEOVISION_USERNAME=
GEOVISION_PASSWORD=

# HI-SHARP probe skeleton (used when FEATURE_VMS_HISHARP_CGI=true)
HISHARP_NVR_BASE_URL=
HISHARP_CAMERA_BASE_URL=
HISHARP_USERNAME=
HISHARP_PASSWORD=

# UNIVIEW probe skeleton (used when FEATURE_VMS_UNIVIEW_CGI=true)
UNIVIEW_NVR_BASE_URL=
UNIVIEW_CAMERA_BASE_URL=
UNIVIEW_USERNAME=
UNIVIEW_PASSWORD=

# HIKVISION probe skeleton (used when FEATURE_VMS_HIKVISION_CGI=true)
HIKVISION_NVR_BASE_URL=
HIKVISION_CAMERA_BASE_URL=
HIKVISION_USERNAME=
HIKVISION_PASSWORD=

# XM probe skeleton (used when FEATURE_VMS_XM_CGI=true)
XM_NVR_BASE_URL=
XM_CAMERA_BASE_URL=
XM_USERNAME=
XM_PASSWORD=

# SAMPO probe skeleton (used when FEATURE_VMS_SAMPO_CGI=true)
SAMPO_NVR_BASE_URL=
SAMPO_CAMERA_BASE_URL=
SAMPO_USERNAME=
SAMPO_PASSWORD=

# Database
DATABASE_URL=postgres://evernet:evernet@postgres:5432/evernet_vmm
DB_POOL_MAX=20

# Cache
REDIS_URL=redis://redis:6379

# Service ports
NOTIFICATION_GATEWAY_PORT=3010
AI_ORCHESTRATOR_PORT=3011
AI_WORKER_PORT=3012
CONNECTOR_VSS_PORT=3013
REPORTING_ENGINE_PORT=3014
SCHEDULER_PORT=3015
WEB_DASHBOARD_PORT=3016

# Service URLs
NOTIFICATION_GATEWAY_URL=http://notification-gateway:3010
AI_ORCHESTRATOR_URL=http://ai-orchestrator:3011
REPORTING_ENGINE_URL=http://reporting-engine:3014

# Gateway
GATEWAY_CONFIG_PATH=/app/config/gateway/gateway.json.example

# Polling and load shedding
EVENT_QUEUE_MAX=1000
API_TIMEOUT_MS=3000
API_RETRIES=3
API_BACKOFF_MS=300

# Monitoring
PROMETHEUS_PORT=9090
GRAFANA_PORT=3000
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=admin
